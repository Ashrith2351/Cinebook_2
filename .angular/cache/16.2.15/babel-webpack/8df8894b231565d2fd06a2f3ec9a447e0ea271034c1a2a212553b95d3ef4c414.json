{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../services/movie.service\";\nimport * as i3 from \"@angular/common\";\nfunction MovieDetailsComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 3)(2, \"div\", 4);\n    i0.ɵɵelement(3, \"img\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 6)(5, \"h1\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\")(8, \"strong\");\n    i0.ɵɵtext(9, \"Release Date:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\")(12, \"strong\");\n    i0.ɵɵtext(13, \"Genre:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"p\")(16, \"strong\");\n    i0.ɵɵtext(17, \"Description:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function MovieDetailsComponent_div_2_Template_button_click_19_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onBookTickets());\n    });\n    i0.ɵɵtext(20, \"Book Tickets\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"alt\", ctx_r0.movie.title);\n    i0.ɵɵproperty(\"src\", ctx_r0.movie.image, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.movie.title);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.movie.releaseDate, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.movie.genre, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.movie.description, \"\");\n  }\n}\nexport class MovieDetailsComponent {\n  constructor(route,\n  // For handling route parameters\n  movieService,\n  // For fetching movie data\n  router,\n  // Inject Router for navigation\n  location) {\n    this.route = route;\n    this.movieService = movieService;\n    this.router = router;\n    this.location = location;\n  }\n  ngOnInit() {\n    // Get the movie ID from the route and handle null or undefined cases\n    const movieId = this.route.snapshot.paramMap.get('id');\n    // Ensure the movieId is not null or undefined before using it\n    if (movieId !== null) {\n      const movieIndex = +movieId; // Convert movieId to number (array index)\n      // Fetch movie details based on the movie ID from the JSON file\n      this.movieService.getMovies().subscribe(movies => {\n        if (movies && movieIndex >= 0 && movieIndex < movies.length) {\n          this.movie = movies[movieIndex]; // Fetch the movie using the index\n        }\n      });\n    }\n  }\n\n  onBookTickets() {\n    // Navigate to the booking page (showtime and seat selection)\n    this.router.navigate(['/book-tickets'], {\n      state: {\n        movie: this.movie\n      }\n    });\n  }\n  goBack() {\n    this.location.back();\n  }\n  static #_ = this.ɵfac = function MovieDetailsComponent_Factory(t) {\n    return new (t || MovieDetailsComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.MovieService), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i3.Location));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MovieDetailsComponent,\n    selectors: [[\"app-movie-details\"]],\n    decls: 3,\n    vars: 1,\n    consts: [[1, \"back-button\", 3, \"click\"], [\"class\", \"movie-details\", 4, \"ngIf\"], [1, \"movie-details\"], [1, \"movie-details-container\"], [1, \"movie-image\"], [3, \"src\", \"alt\"], [1, \"movie-info\"], [1, \"btn\", \"btn-primary\", 3, \"click\"]],\n    template: function MovieDetailsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"button\", 0);\n        i0.ɵɵlistener(\"click\", function MovieDetailsComponent_Template_button_click_0_listener() {\n          return ctx.goBack();\n        });\n        i0.ɵɵtext(1, \"Back\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(2, MovieDetailsComponent_div_2_Template, 21, 6, \"div\", 1);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.movie);\n      }\n    },\n    dependencies: [i3.NgIf],\n    styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%];\\n\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n\\n \\tvar __webpack_modules__ = ({\\n\\n\\n 745:\\n\\n\\n\\n\\n\\n (() => {\\n\\nthrow new Error(\\\"Module build failed (from ./node_modules/postcss-loader/dist/cjs.js):\\\\n\\\\nSyntaxError\\\\n\\\\n(46:5) D:\\\\\\\\MS\\\\\\\\SWE-632\\\\\\\\cinebook\\\\\\\\cinebook_app\\\\\\\\src\\\\\\\\app\\\\\\\\movie-details\\\\\\\\movie-details.component.css Unknown word\\\\n\\\\n \\\\u001b[90m 44 | \\\\u001b[39m    margin-top\\\\u001b[33m:\\\\u001b[39m 10px\\\\u001b[33m;\\\\u001b[39m\\\\n \\\\u001b[90m 45 | \\\\u001b[39m    margin\\\\n\\\\u001b[1m\\\\u001b[31m>\\\\u001b[39m\\\\u001b[22m\\\\u001b[90m 46 | \\\\u001b[39m    background-color\\\\u001b[33m:\\\\u001b[39m \\\\u001b[35m#007BFF\\\\u001b[39m\\\\u001b[33m;\\\\u001b[39m  \\\\u001b[90m\\n\\\\u001b[39m\\\\n \\\\u001b[90m    | \\\\u001b[39m    \\\\u001b[1m\\\\u001b[31m^\\\\u001b[39m\\\\u001b[22m\\\\n \\\\u001b[90m 47 | \\\\u001b[39m    color\\\\u001b[33m:\\\\u001b[39m white\\\\u001b[33m;\\\\u001b[39m\\\\n \\\\u001b[90m 48 | \\\\u001b[39m    border\\\\u001b[33m:\\\\u001b[39m none\\\\u001b[33m;\\\\u001b[39m\\\\n\\\");\\n\\n\\n })\\n\\n\\n \\t});\\n\\n\\n\\n \\t\\n\\n \\t// startup\\n\\n \\t// Load entry module and return exports\\n\\n \\t// This entry module doesn't tell about it's top-level declarations so it can't be inlined\\n\\n \\tvar __webpack_exports__ = {};\\n\\n \\t__webpack_modules__[745]();\\n\\n \\tresource = __webpack_exports__;\\n\\n \\t\\n\\n })()\\n;\\n/*# sourceMappingURL=movie-details.component.css.map*/\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵɵlistener","MovieDetailsComponent_div_2_Template_button_click_19_listener","ɵɵrestoreView","_r2","ctx_r1","ɵɵnextContext","ɵɵresetView","onBookTickets","ɵɵadvance","ɵɵpropertyInterpolate","ctx_r0","movie","title","ɵɵproperty","image","ɵɵsanitizeUrl","ɵɵtextInterpolate","ɵɵtextInterpolate1","releaseDate","genre","description","MovieDetailsComponent","constructor","route","movieService","router","location","ngOnInit","movieId","snapshot","paramMap","get","movieIndex","getMovies","subscribe","movies","length","navigate","state","goBack","back","_","ɵɵdirectiveInject","i1","ActivatedRoute","i2","MovieService","Router","i3","Location","_2","selectors","decls","vars","consts","template","MovieDetailsComponent_Template","rf","ctx","MovieDetailsComponent_Template_button_click_0_listener","ɵɵtemplate","MovieDetailsComponent_div_2_Template"],"sources":["D:\\MS\\SWE-632\\cinebook\\cinebook_app\\src\\app\\movie-details\\movie-details.component.ts","D:\\MS\\SWE-632\\cinebook\\cinebook_app\\src\\app\\movie-details\\movie-details.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router'; // Import Router for navigation\nimport { MovieService } from '../services/movie.service'; // Import MovieService for fetching movie details\nimport { Location } from '@angular/common';\n\n@Component({\n  selector: 'app-movie-details',\n  templateUrl: './movie-details.component.html',\n  styleUrls: ['./movie-details.component.css']\n})\nexport class MovieDetailsComponent implements OnInit {\n\n  movie: any; // Holds the movie details\n\n  constructor(\n    private route: ActivatedRoute, // For handling route parameters\n    private movieService: MovieService, // For fetching movie data\n    private router: Router, // Inject Router for navigation\n    private location: Location\n  ) {}\n\n  ngOnInit(): void {\n    // Get the movie ID from the route and handle null or undefined cases\n    const movieId = this.route.snapshot.paramMap.get('id');\n    \n    // Ensure the movieId is not null or undefined before using it\n    if (movieId !== null) {\n      const movieIndex = +movieId; // Convert movieId to number (array index)\n\n      // Fetch movie details based on the movie ID from the JSON file\n      this.movieService.getMovies().subscribe((movies: any[]) => {\n        if (movies && movieIndex >= 0 && movieIndex < movies.length) {\n          this.movie = movies[movieIndex]; // Fetch the movie using the index\n        }\n      });\n    }\n  }\n\n  onBookTickets() {\n    // Navigate to the booking page (showtime and seat selection)\n    this.router.navigate(['/book-tickets'], { state: { movie: this.movie } });\n  }\n  goBack() {\n    this.location.back();\n  }\n}\n","<button class=\"back-button\" (click)=\"goBack()\">Back</button>\n\n<div *ngIf=\"movie\" class=\"movie-details\">\n    <div class=\"movie-details-container\">\n      <!-- Movie Poster -->\n      <div class=\"movie-image\">\n        <img [src]=\"movie.image\" alt=\"{{ movie.title }}\">\n      </div>\n  \n      <!-- Movie Title and Details -->\n      <div class=\"movie-info\">\n        <h1>{{ movie.title }}</h1>\n  \n        <p><strong>Release Date:</strong> {{ movie.releaseDate }}</p>\n        <p><strong>Genre:</strong> {{ movie.genre }}</p>\n        <p><strong>Description:</strong> {{ movie.description }}</p>\n        <button (click)=\"onBookTickets()\" class=\"btn btn-primary\">Book Tickets</button>\n      </div>\n    </div>\n  </div>\n  \n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}