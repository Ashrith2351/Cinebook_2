{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let SeatSelectionComponent = class SeatSelectionComponent {\n  constructor(router, route, location) {\n    this.router = router;\n    this.route = route;\n    this.location = location;\n    this.selectedDate = new Date();\n    this.selectedSeats = [];\n    // Initialize with default values or fetch from a service or route data\n    this.movie = {\n      title: \"Example Movie\"\n    };\n    this.selectedCinema = {\n      name: \"Cinema Name\"\n    };\n    this.selectedShowtime = {\n      start: new Date()\n    };\n    this.seatMap = this.generateSeatMap(10, 12); // 10 rows, 12 seats per row\n  }\n\n  ngOnInit() {}\n  generateSeatMap(rows, cols) {\n    let map = [];\n    for (let i = 0; i < rows; i++) {\n      let row = [];\n      for (let j = 0; j < cols; j++) {\n        row.push({\n          booked: Math.random() < 0.2,\n          label: String.fromCharCode(65 + i) + (j + 1)\n        });\n      }\n      map.push(row);\n    }\n    return map;\n  }\n  toggleSeat(rowIndex, seatIndex) {\n    if (this.seatMap[rowIndex][seatIndex].booked) return;\n    let seatFound = this.selectedSeats.find(s => s.row === rowIndex && s.col === seatIndex);\n    if (seatFound) {\n      this.selectedSeats = this.selectedSeats.filter(s => s !== seatFound);\n    } else {\n      this.selectedSeats.push({\n        row: rowIndex,\n        col: seatIndex\n      });\n    }\n  }\n  isSelectedSeat(rowIndex, seatIndex) {\n    return !!this.selectedSeats.find(s => s.row === rowIndex && s.col === seatIndex);\n  }\n  confirmSelection() {\n    // Process selection confirmation\n    console.log('Selected seats:', this.selectedSeats);\n    this.router.navigate(['/confirmation']);\n  }\n  goBack() {\n    this.location.back();\n  }\n};\nSeatSelectionComponent = __decorate([Component({\n  selector: 'app-seat-selection',\n  templateUrl: './seat-selection.component.html',\n  styleUrls: ['./seat-selection.component.css']\n})], SeatSelectionComponent);","map":{"version":3,"names":["Component","SeatSelectionComponent","constructor","router","route","location","selectedDate","Date","selectedSeats","movie","title","selectedCinema","name","selectedShowtime","start","seatMap","generateSeatMap","ngOnInit","rows","cols","map","i","row","j","push","booked","Math","random","label","String","fromCharCode","toggleSeat","rowIndex","seatIndex","seatFound","find","s","col","filter","isSelectedSeat","confirmSelection","console","log","navigate","goBack","back","__decorate","selector","templateUrl","styleUrls"],"sources":["D:\\MS\\SWE-632\\cinebook\\cinebook_app\\src\\app\\seat-selection\\seat-selection.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Location } from '@angular/common';\n\n// Assuming these types are defined globally or imported from a types file\ninterface Movie {\n  title: string;\n}\n\ninterface Cinema {\n  name: string;\n}\n\ninterface Seat {\n  booked: boolean;\n  label: string;\n}\n\ninterface Showtime {\n  start: Date;\n}\n\n@Component({\n  selector: 'app-seat-selection',\n  templateUrl: './seat-selection.component.html',\n  styleUrls: ['./seat-selection.component.css']\n})\nexport class SeatSelectionComponent implements OnInit {\n  movie: Movie;\n  selectedCinema: Cinema;\n  selectedDate: Date = new Date();\n  selectedShowtime: Showtime;\n  seatMap: Seat[][];\n  selectedSeats: { row: number, col: number }[] = [];\n\n  constructor(private router: Router, private route: ActivatedRoute, private location: Location) {\n    // Initialize with default values or fetch from a service or route data\n    this.movie = { title: \"Example Movie\" };\n    this.selectedCinema = { name: \"Cinema Name\" };\n    this.selectedShowtime = { start: new Date() };\n    this.seatMap = this.generateSeatMap(10, 12); // 10 rows, 12 seats per row\n  }\n\n  ngOnInit(): void {}\n\n  generateSeatMap(rows: number, cols: number): Seat[][] {\n    let map = [];\n    for (let i = 0; i < rows; i++) {\n      let row = [];\n      for (let j = 0; j < cols; j++) {\n        row.push({ booked: Math.random() < 0.2, label: String.fromCharCode(65 + i) + (j + 1) });\n      }\n      map.push(row);\n    }\n    return map;\n  }\n\n  toggleSeat(rowIndex: number, seatIndex: number): void {\n    if (this.seatMap[rowIndex][seatIndex].booked) return;\n    let seatFound = this.selectedSeats.find(s => s.row === rowIndex && s.col === seatIndex);\n    if (seatFound) {\n      this.selectedSeats = this.selectedSeats.filter(s => s !== seatFound);\n    } else {\n      this.selectedSeats.push({ row: rowIndex, col: seatIndex });\n    }\n  }\n\n  isSelectedSeat(rowIndex: number, seatIndex: number): boolean {\n    return !!this.selectedSeats.find(s => s.row === rowIndex && s.col === seatIndex);\n  }\n\n  confirmSelection(): void {\n    // Process selection confirmation\n    console.log('Selected seats:', this.selectedSeats);\n    this.router.navigate(['/confirmation']);\n  }\n  goBack() {\n    this.location.back();\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AA2B1C,WAAMC,sBAAsB,GAA5B,MAAMA,sBAAsB;EAQjCC,YAAoBC,MAAc,EAAUC,KAAqB,EAAUC,QAAkB;IAAzE,KAAAF,MAAM,GAANA,MAAM;IAAkB,KAAAC,KAAK,GAALA,KAAK;IAA0B,KAAAC,QAAQ,GAARA,QAAQ;IALnF,KAAAC,YAAY,GAAS,IAAIC,IAAI,EAAE;IAG/B,KAAAC,aAAa,GAAmC,EAAE;IAGhD;IACA,IAAI,CAACC,KAAK,GAAG;MAAEC,KAAK,EAAE;IAAe,CAAE;IACvC,IAAI,CAACC,cAAc,GAAG;MAAEC,IAAI,EAAE;IAAa,CAAE;IAC7C,IAAI,CAACC,gBAAgB,GAAG;MAAEC,KAAK,EAAE,IAAIP,IAAI;IAAE,CAAE;IAC7C,IAAI,CAACQ,OAAO,GAAG,IAAI,CAACC,eAAe,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;EAC/C;;EAEAC,QAAQA,CAAA,GAAU;EAElBD,eAAeA,CAACE,IAAY,EAAEC,IAAY;IACxC,IAAIC,GAAG,GAAG,EAAE;IACZ,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,IAAI,EAAEG,CAAC,EAAE,EAAE;MAC7B,IAAIC,GAAG,GAAG,EAAE;MACZ,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,IAAI,EAAEI,CAAC,EAAE,EAAE;QAC7BD,GAAG,CAACE,IAAI,CAAC;UAAEC,MAAM,EAAEC,IAAI,CAACC,MAAM,EAAE,GAAG,GAAG;UAAEC,KAAK,EAAEC,MAAM,CAACC,YAAY,CAAC,EAAE,GAAGT,CAAC,CAAC,IAAIE,CAAC,GAAG,CAAC;QAAC,CAAE,CAAC;;MAEzFH,GAAG,CAACI,IAAI,CAACF,GAAG,CAAC;;IAEf,OAAOF,GAAG;EACZ;EAEAW,UAAUA,CAACC,QAAgB,EAAEC,SAAiB;IAC5C,IAAI,IAAI,CAAClB,OAAO,CAACiB,QAAQ,CAAC,CAACC,SAAS,CAAC,CAACR,MAAM,EAAE;IAC9C,IAAIS,SAAS,GAAG,IAAI,CAAC1B,aAAa,CAAC2B,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACd,GAAG,KAAKU,QAAQ,IAAII,CAAC,CAACC,GAAG,KAAKJ,SAAS,CAAC;IACvF,IAAIC,SAAS,EAAE;MACb,IAAI,CAAC1B,aAAa,GAAG,IAAI,CAACA,aAAa,CAAC8B,MAAM,CAACF,CAAC,IAAIA,CAAC,KAAKF,SAAS,CAAC;KACrE,MAAM;MACL,IAAI,CAAC1B,aAAa,CAACgB,IAAI,CAAC;QAAEF,GAAG,EAAEU,QAAQ;QAAEK,GAAG,EAAEJ;MAAS,CAAE,CAAC;;EAE9D;EAEAM,cAAcA,CAACP,QAAgB,EAAEC,SAAiB;IAChD,OAAO,CAAC,CAAC,IAAI,CAACzB,aAAa,CAAC2B,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACd,GAAG,KAAKU,QAAQ,IAAII,CAAC,CAACC,GAAG,KAAKJ,SAAS,CAAC;EAClF;EAEAO,gBAAgBA,CAAA;IACd;IACAC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAE,IAAI,CAAClC,aAAa,CAAC;IAClD,IAAI,CAACL,MAAM,CAACwC,QAAQ,CAAC,CAAC,eAAe,CAAC,CAAC;EACzC;EACAC,MAAMA,CAAA;IACJ,IAAI,CAACvC,QAAQ,CAACwC,IAAI,EAAE;EACtB;CACD;AApDY5C,sBAAsB,GAAA6C,UAAA,EALlC9C,SAAS,CAAC;EACT+C,QAAQ,EAAE,oBAAoB;EAC9BC,WAAW,EAAE,iCAAiC;EAC9CC,SAAS,EAAE,CAAC,gCAAgC;CAC7C,CAAC,C,EACWhD,sBAAsB,CAoDlC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}